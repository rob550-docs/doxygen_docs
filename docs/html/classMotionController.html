<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MBot Software Library: MotionController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MBot Software Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMotionController-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MotionController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a960a1e2f68240211ac4cd9c6fb4c7a03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#a960a1e2f68240211ac4cd9c6fb4c7a03">MotionController</a> (lcm::LCM *instance)</td></tr>
<tr class="separator:a960a1e2f68240211ac4cd9c6fb4c7a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5187e06d3df4a4fca2b3b9f111ea2dfd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#a5187e06d3df4a4fca2b3b9f111ea2dfd">updateCommand</a> (mbot_lcm_msgs::twist2D_t &amp;cmd)</td></tr>
<tr class="memdesc:a5187e06d3df4a4fca2b3b9f111ea2dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">updateCommand calculates the new motor command to send to the Mbot. This method is called after each call to lcm.handle. You need to check if you have sufficient data to calculate a new command, or if the previous command should just be used again until for feedback becomes available.  <a href="classMotionController.html#a5187e06d3df4a4fca2b3b9f111ea2dfd">More...</a><br /></td></tr>
<tr class="separator:a5187e06d3df4a4fca2b3b9f111ea2dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b06085778ee371b217f8c61d5abb095"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#a5b06085778ee371b217f8c61d5abb095">timesync_initialized</a> ()</td></tr>
<tr class="separator:a5b06085778ee371b217f8c61d5abb095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca42c69c3b63d9e08f3021e61880b5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#afca42c69c3b63d9e08f3021e61880b5a">handleTimesync</a> (const lcm::ReceiveBuffer *buf, const std::string &amp;channel, const mbot_lcm_msgs::timestamp_t *timesync)</td></tr>
<tr class="separator:afca42c69c3b63d9e08f3021e61880b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6415d17626007ff28d1201e8a96ce1a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#a6415d17626007ff28d1201e8a96ce1a8">handlePath</a> (const lcm::ReceiveBuffer *buf, const std::string &amp;channel, const mbot_lcm_msgs::path2D_t *path)</td></tr>
<tr class="separator:a6415d17626007ff28d1201e8a96ce1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab244de630c107b4dba644cfacf7ddf54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#ab244de630c107b4dba644cfacf7ddf54">handleOdometry</a> (const lcm::ReceiveBuffer *buf, const std::string &amp;channel, const mbot_lcm_msgs::pose2D_t *odometry)</td></tr>
<tr class="separator:ab244de630c107b4dba644cfacf7ddf54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f7673270e721c6e09603c1e1abb565"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#aa8f7673270e721c6e09603c1e1abb565">handlePose</a> (const lcm::ReceiveBuffer *buf, const std::string &amp;channel, const mbot_lcm_msgs::pose2D_t *pose)</td></tr>
<tr class="separator:aa8f7673270e721c6e09603c1e1abb565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3df960d0eb46522c427244ddea90874"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotionController.html#ac3df960d0eb46522c427244ddea90874">handleSystemReset</a> (const lcm::ReceiveBuffer *buf, const std::string &amp;channel, const mbot_lcm_msgs::mbot_slam_reset_t *request)</td></tr>
<tr class="separator:ac3df960d0eb46522c427244ddea90874"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a960a1e2f68240211ac4cd9c6fb4c7a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a960a1e2f68240211ac4cd9c6fb4c7a03">&#9670;&nbsp;</a></span>MotionController()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MotionController::MotionController </td>
          <td>(</td>
          <td class="paramtype">lcm::LCM *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor for <a class="el" href="classMotionController.html">MotionController</a>. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab244de630c107b4dba644cfacf7ddf54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab244de630c107b4dba644cfacf7ddf54">&#9670;&nbsp;</a></span>handleOdometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotionController::handleOdometry </td>
          <td>(</td>
          <td class="paramtype">const lcm::ReceiveBuffer *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mbot_lcm_msgs::pose2D_t *&#160;</td>
          <td class="paramname"><em>odometry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6415d17626007ff28d1201e8a96ce1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6415d17626007ff28d1201e8a96ce1a8">&#9670;&nbsp;</a></span>handlePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotionController::handlePath </td>
          <td>(</td>
          <td class="paramtype">const lcm::ReceiveBuffer *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mbot_lcm_msgs::path2D_t *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8f7673270e721c6e09603c1e1abb565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f7673270e721c6e09603c1e1abb565">&#9670;&nbsp;</a></span>handlePose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotionController::handlePose </td>
          <td>(</td>
          <td class="paramtype">const lcm::ReceiveBuffer *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mbot_lcm_msgs::pose2D_t *&#160;</td>
          <td class="paramname"><em>pose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac3df960d0eb46522c427244ddea90874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3df960d0eb46522c427244ddea90874">&#9670;&nbsp;</a></span>handleSystemReset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotionController::handleSystemReset </td>
          <td>(</td>
          <td class="paramtype">const lcm::ReceiveBuffer *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mbot_lcm_msgs::mbot_slam_reset_t *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afca42c69c3b63d9e08f3021e61880b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afca42c69c3b63d9e08f3021e61880b5a">&#9670;&nbsp;</a></span>handleTimesync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotionController::handleTimesync </td>
          <td>(</td>
          <td class="paramtype">const lcm::ReceiveBuffer *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mbot_lcm_msgs::timestamp_t *&#160;</td>
          <td class="paramname"><em>timesync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b06085778ee371b217f8c61d5abb095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b06085778ee371b217f8c61d5abb095">&#9670;&nbsp;</a></span>timesync_initialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotionController::timesync_initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5187e06d3df4a4fca2b3b9f111ea2dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5187e06d3df4a4fca2b3b9f111ea2dfd">&#9670;&nbsp;</a></span>updateCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotionController::updateCommand </td>
          <td>(</td>
          <td class="paramtype">mbot_lcm_msgs::twist2D_t &amp;&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>updateCommand calculates the new motor command to send to the Mbot. This method is called after each call to lcm.handle. You need to check if you have sufficient data to calculate a new command, or if the previous command should just be used again until for feedback becomes available. </p>
<dl class="section return"><dt>Returns</dt><dd>The motor command to send to the mbot_driver. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mbot_autonomy/src/mbot/<a class="el" href="motion__controller_8cpp.html">motion_controller.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
